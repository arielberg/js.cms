<!DOCTYPE HTML>
<html>
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="stylesheet" type="text/css" href="assets/css/style.css">
        <link rel="stylesheet" type="text/css" href="assets/css/bootstrap.min.css" media="all">        
        <script type="text/javascript" src="assets/scripts/main.js"></script>       
        <link rel="icon" href="assets/images/favicon.ico" sizes="16x16">
        <title>${ this.strings.siteName } - ${ this.pageTitle }</title>
        <style>
          /* Minimal fallback styling to ensure a clean layout even if assets fail to load */
          body {
            margin: 0;
            padding-top: 72px;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: #f8fafc;
            color: #111827;
          }
          .navbar {
            background: #ffffff;
            border-bottom: 1px solid #e5e7eb;
          }
          .navbar .nav-link { color: #111827; }
          .navbar .nav-link:hover { color: #2563eb; }
          .navbar-brand img { max-height: 48px; }
          .page-wrapper { padding: 24px 16px; }
          .starter-template { padding: 16px 0; }
          .container { max-width: 1140px; margin: 0 auto; }
          a { color: #2563eb; text-decoration: none; }
          a:hover { text-decoration: underline; }
          footer { margin-top: 32px; padding: 16px 0; color: #6b7280; border-top: 1px solid #e5e7eb; }
        </style>
    </head>
<body class="${ this.pageClass }" data-theme="${ this.theme || 'default' }">
  <header id="header-region">
    ${ this.blocks_header || '' }
    <nav class="navbar navbar-expand-md navbar-light bg-light fixed-top">
      <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#mainMenu" aria-controls="navbarsExampleDefault" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>  
      <div class="inner">
        <a class="navbar-brand" href=""><img width="120px" src="assets/images/logo.png" /></a>
        <div class="collapse navbar-collapse" id="mainMenu">        
          ${ this.menu_main }
        </div>
        <form class="form-inline my-2 my-lg-0">
          <input class="form-control mr-sm-2" type="text" placeholder="Search" aria-label="Search">
          <button class="btn btn-outline-success my-2 my-sm-0" type="submit">Search</button>
        </form>
      </div>
    </nav>
  </header>

  <div class="page-wrapper">
    ${ this.blocks_sidebar || '' }
    <main id='main' role="main" class="container">
      <div class="starter-template">
        ${ this.blocks_before_content || '' }
        <h1>${ this.pageTitle }</h1>          
        ${ this.content }
        ${ this.blocks_after_content || '' }
      </div>
    </main>
  </div>
  
  <footer id="footer-region">
    ${ this.blocks_footer || '' }
  </footer>
   
    <script type="text/javascript">
      // Path fixing is now handled by the router, so this script is disabled
      // to prevent double-fixing of paths
      
      // Only handle mobile menu toggle if element exists
      const mobileMenuToggle = document.getElementById('mobileMenuToggle');
      if (mobileMenuToggle) {
        mobileMenuToggle.onclick = btn => {
          const mainMenu = document.getElementById('mainMenu');
          if (mainMenu) {
            mainMenu.classList.toggle("open");
          }
        };
      }
  </script>
</body>
</html>